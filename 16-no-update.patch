Description: Disable "Check for Updates" action.
Bug-Ubuntu: https://bugs.launchpad.net/bugs/272212
Author: Daniel Hahler <ubuntu@thequod.de>, Felix Geyer <fgeyer@debian.org>

diff a/src/VBox/Frontends/VirtualBox/src/net/UIUpdateManager.cpp b/src/VBox/Frontends/VirtualBox/src/net/UIUpdateManager.cpp
--- a/src/VBox/Frontends/VirtualBox/src/net/UIUpdateManager.cpp
+++ b/src/VBox/Frontends/VirtualBox/src/net/UIUpdateManager.cpp
@@ -474,6 +474,8 @@ void UIUpdateManager::shutdown()
 
 void UIUpdateManager::sltForceCheck()
 {
+    return;
+
     /* Force call for new version check: */
     sltCheckIfUpdateIsNecessary(true /* force call */);
 }
--- a/src/VBox/Frontends/VirtualBox/src/globals/UIActionPool.cpp
+++ b/src/VBox/Frontends/VirtualBox/src/globals/UIActionPool.cpp
@@ -538,7 +538,6 @@ void UIActionPool::createActions()
     m_pool[UIActionIndex_Simple_WebSite] = new UIActionSimpleWebSite(this);
     m_pool[UIActionIndex_Simple_ResetWarnings] = new UIActionSimpleResetWarnings(this);
     m_pool[UIActionIndex_Simple_NetworkAccessManager] = new UIActionSimpleNetworkAccessManager(this);
-    m_pool[UIActionIndex_Simple_CheckForUpdates] = new UIActionSimpleCheckForUpdates(this);
     m_pool[UIActionIndex_Simple_About] = new UIActionSimpleAbout(this);
 }
 
@@ -570,9 +569,6 @@ void UIActionPool::createMenus()
     m_pool[UIActionIndex_Simple_CheckForUpdates]->setVisible(false);
 #endif
 #if !(defined(Q_WS_MAC) && (QT_VERSION < 0x040700))
-    if (m_pool[UIActionIndex_Simple_CheckForUpdates])
-        delete m_pool[UIActionIndex_Simple_CheckForUpdates];
-    m_pool[UIActionIndex_Simple_CheckForUpdates] = new UIActionSimpleCheckForUpdates(this);
     if (m_pool[UIActionIndex_Simple_About])
         delete m_pool[UIActionIndex_Simple_About];
     m_pool[UIActionIndex_Simple_About] = new UIActionSimpleAbout(this);
--- a/src/VBox/Frontends/VirtualBox/src/globals/UIActionPool.h
+++ b/src/VBox/Frontends/VirtualBox/src/globals/UIActionPool.h
@@ -47,7 +47,6 @@ enum UIActionIndex
     UIActionIndex_Simple_WebSite,
     UIActionIndex_Simple_ResetWarnings,
     UIActionIndex_Simple_NetworkAccessManager,
-    UIActionIndex_Simple_CheckForUpdates,
     UIActionIndex_Simple_About,
 
     /* Maximum index: */
--- a/src/VBox/Frontends/VirtualBox/src/selector/UISelectorWindow.cpp
+++ b/src/VBox/Frontends/VirtualBox/src/selector/UISelectorWindow.cpp
@@ -1301,12 +1301,6 @@ void UISelectorWindow::prepareMenuHelp(Q
     m_pRegisterAction = gActionPool->action(UIActionIndex_Simple_Register);
     pMenu->addAction(m_pRegisterAction);
 #endif /* VBOX_WITH_REGISTRATION */
-    m_pUpdateAction = gActionPool->action(UIActionIndex_Simple_CheckForUpdates);
-    CVirtualBox vbox = vboxGlobal().virtualBox();
-    if (VBoxGlobal::shouldWeAllowApplicationUpdate(vbox))
-        pMenu->addAction(m_pUpdateAction);
-    else
-        m_pUpdateAction->setEnabled(false);
 #ifndef Q_WS_MAC
     pMenu->addSeparator();
 #endif /* !Q_WS_MAC */
@@ -1443,7 +1437,6 @@ void UISelectorWindow::prepareConnection
     connect(m_pRegisterAction, SIGNAL(triggered()), &vboxGlobal(), SLOT(showRegistrationDialog()));
     connect(gEDataEvents, SIGNAL(sigCanShowRegistrationDlg(bool)), m_pRegisterAction, SLOT(setEnabled(bool)));
 #endif /* VBOX_WITH_REGISTRATION */
-    connect(m_pUpdateAction, SIGNAL(triggered()), gUpdateManager, SLOT(sltForceCheck()));
     connect(m_pAboutAction, SIGNAL(triggered()), &msgCenter(), SLOT(sltShowHelpAboutDialog()));
 
     /* Status-bar connections: */
diff a/src/VBox/Frontends/VirtualBox/src/settings/UISettingsDialogSpecific.cpp b/src/VBox/Frontends/VirtualBox/src/settings/UISettingsDialogSpecific.cpp
--- a/src/VBox/Frontends/VirtualBox/src/settings/UISettingsDialogSpecific.cpp
+++ b/src/VBox/Frontends/VirtualBox/src/settings/UISettingsDialogSpecific.cpp
@@ -557,6 +557,10 @@ bool UISettingsDialogGlobal::isPageAvailable(int iPageId)
 #endif /* !VBOX_WITH_NETFLT */
             break;
         }
+        case GlobalSettingsPageType_Update:
+        {
+            return false;
+        }
         default:
             break;
     }
